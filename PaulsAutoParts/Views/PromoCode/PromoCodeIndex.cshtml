@{
    ViewData["Title"] = "Promo Code Maintenance";
}

<h2>Promo Code Maintenance</h2>

@if (Model.IsDetailVisible)
{
    <partial name="_PromoCodeDetail" />
}
else
{
    <partial name="_PromoCodeSearch" />
    <partial name="_PromoCodeList" />
}

@section Scripts {
    <script>
        'use strict';

        let pageController = (function () {
            function setSearchValues() {
                mainController.setSearchValues($("#SearchEntity_Code").val());
            }
            // Expose public functions from closure
            return {
                "setSearchValues": setSearchValues,
                "setSearchArea": mainController.setSearchArea,
                "isSearchFilledIn": mainController.isSearchFilledIn
            }
        })();


        $(document).ready(function () {
            // Setup the form submit
            mainController.formSubmit();

            // Collapse search area or not?
            pageController.setSearchValues();
            pageController.setSearchArea();
        });
    </script>
    <partial name="_ValidationScriptsPartial" />
}
